generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                Int             @id @default(autoincrement())
  first_name        String          @db.VarChar(255)
  last_name         String          @db.VarChar(100)
  email             String          @unique
  username          String          @unique
  bio               String?         @db.VarChar(255)
  profilePictureUrl String?
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  Session           Session[]
  credentials       UserCredential?

  @@map("users")
}

model UserCredential {
  userId       Int    @id
  passwordHash String
  user         User   @relation(fields: [userId], references: [id])

  @@map("user_credentials")
}

model Session {
  id           Int           @id @default(autoincrement())
  userId       Int
  sessionToken String        @unique
  createdAt    DateTime      @default(now())
  expiresAt    DateTime?
  ipAddress    String?
  userAgent    String?
  status       SessionStatus
  user         User          @relation(fields: [userId], references: [id])

  @@map("sessions")
}

enum SessionStatus {
  ACTIVE
  INACTIVE
  EXPIRED
}
